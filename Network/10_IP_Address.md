# IP Address

> Reference: [책] IT 엔지니어를 위한 네트워크 입문

<br>

<br>

- OSI 7계층에서 주소를 갖는 계층은 **2계층**과 **3계층**이다
  - 2계층은 **물리 주소**인 **MAC 주소**를 사용하고,
  - 3계층은 **논리 주소**인 **IP 주소**를 사용한다
- 대부분의 Network가 `TCP/IP`로 동작하므로 IP 주소 체계를 이해하는 것이 중요하다
- IP 주소를 포함한 다른 protocol stack의 **3계층 주소**는 아래과 같은 특성을 가진다
  1. 사용자가 **변경 가능**한 **논리 주소**이다
  2. 주소에 **level**이 있다
     - **Group**을 의미하는 `network 주소`와 `host 주소`로 나뉜다

<br>

<br>

## 1. IP 주소 체계

- 우리가 흔히 사용하는 IP 주소는 **32비트**인 **IPv4** 주소이다
  - IP는 **v4**, **v6** 두 체계가 사용되며 **IPv6** 주소는 **128비트**이다
- IPv4 주소를 표기할 때는 4개의 **옥텟 (octet)**이라고 부르는 **8비트 단위**로 나뉘고, 각 octet은 **"."** 으로 구분한다
  - `IPv4 주소`: 8비트 x 4 = 32비트
- 2계층의 `MAC 주소`가 **16진수**로 표기된 것과 달리 `IP 주소`는 **10진수**로 표기하므로 **8비트 옥텟**은 **0 ~ 255**의 값을 가질 수 있다
- 2계층 주소인 `MAC 주소`가 제조업체 코드인 **OUI**와 제조업체별 일련 번호인 **UAA** 두 부분으로 나뉘는 것과 목적이 다르지만, 
  - 3계층 주소인 `IP 주소`도 **네트워크 주소**와 **호스트 주소** 두 부분으로 나뉜다
    - **네트워크 주소**
      - Host들을 모은 network를 지칭하는 주소
      - Network 주소가 동일한 network를 **Local Network**라고 한다
    - **호스트 주소**
      - 하나의 network 내에 존재하는 host를 구분히기 위한 주소
- `MAC 주소`는 24비트씩 절반으로 나뉘지만, `IP 주소`의 **네트워크 주소**와 **호스트 주소**는 이둘을 구분하는 **경계점이 고정되어 있지 않다**
  - 이것이 다른 주소 체계와 IP 주소 체계를 구분하는 가장 큰 특징이다
  - IP 주소 체계는 필요한 **호스트 IP 개수**에 따라 **네트워크의 크기를 다르게 할당**할 수 있는 `Class 개념`을 도입했다
- 네트워크 주소와 호스트주소를 나누는 **구분자**가 **고정**되어 있다면 네트워크가 가질 수 있는 `호스트 IP 주소` 숫자가 같기 때문에 **같은 크기의 네트워크**가 되지만,
  -  **구분자를 이동할 수 있어** 네트워크 크기가 달라질 수 있다
- `IP 주소`가 도입한 **class 개념**은 다른 고정된 네트워크 주소 체계에[ 베히 **주소를 절약할 수 있다**는 장점이 있다
  - 네트워크의 크기가 모두 같은 경우, 
    - 큰 네트워크를 필요로 하는 조직은 네트워크를 **여러개 확보**해야하는 어려움이 있고, **연속된 네트워크**를 할당받기 어렵다
    - 작은 네트워크를 필요로 하는 조직은 **너무 많은 IP**를 가져가므로 **IP가 낭비**된다
- A, B, C Class는 맨 앞의 옥텟의 주소만 보고 구분할 수 있다

<br>

### Classful Network

<br>

#### A Class

- 가장 큰 주소를 갖는다
- 약 1,600만개의 IP 주소를 가질 수 있다
- **첫 번째 옥텟**에 네트워크와 호스트 주소를 나누는 **구분자**가 있다
  - 이 구분자를 `서브넷 마스크`라고 한다!
- `네트워크 주소`를 표현하는 부분이 1개의 옥텟, `호스트 주소`를 나타낼 수 있는 옥텟이 3개이기 때문에 
  - **2^8 (256)**개의 네트워크와
  - 한 네트워크 당 **2^24 (16,666,216)**개의 호스트 주소를 갖는다
- A, B, C class는 맨 앞의 옥텟 주소만 보고도 구분할 수 있는데, 옥텟 주소가 `0 ~ 127` 의 볌위이면 이 주소는 A Class이다
  - 즉, 2진수로 첫 옥텟이 `0 0000000 ~ 0 1111111`인 주소가 A Class가 된다
  - `127`만 예외로 자신을 의미하는 **Loopback 주소**로 사용되므로, 실제로 A Class로 사용할 수 있는 주소는 `1.0.0.0 ~ 126.255.255.255` 까지이다

<br>

<br>

#### B Class

- 약 6만 5천개의 IP 주소를 갖는다 
- **두번째 옥텟**에 **구분자**가 있다
- `네트워크 주소 부분`이 2개의 옥텟, `호스트 주소`가 2개의 옥텟이기 때문에
  - **2^16 (65,536)**개의 네트워크와
  - 1개의 네트워크에 **2^16(65,536)**개의 호스트주소를 갖는다
- 첫 옥텟을 2진수로 표기했을 때 **첫번째 자리가 1**이고, **두번째 자리가 0**인 주소가 B class이다
  - 2진수로 첫 옥텟이 `10 000000 ~ 10 111111` 인 수이고,
  - 10진수로 표현하면 128부터 191까지인 주소가 B Class이다

<br>

<br>

#### C Class

- **세번재 옥텟**에 **구분자**가 있다
- `네트워크 주소 부분`이 3개의 옥텟, `호스트 주소`가 1개의 옥텟이기 때문에
  - **2^24 (16,777,216)**개의 네트워크와
  - 1개의 네트워크 당 **2^8 (256)**개의 호스트를 가질 수 있다
- 첫 옥탯을 2진수로 표기했을 때 2진수 8자리 중 **첫 번째, 두 번째 자리가 1**이고, **세 번째 자리가 0**인 주소가 C Classs이다
  - 첫 옥텟이 2진수로 `110 00000 ~ 110 11111` 이고,
  - 10진수로 192 부터 223까지 IP인 경우 C class이다

<br>

Class 기반의 네트워크 분할 기법은 **과거에 사용했던 개념**으로 현재는 class 기반으로 네트워크를 분할하지 않는다

보다네트워크 주소를 세밀하게 분하랗고 할당하기 위해 **필요한 네트워크의 크기**에 맞추어 **1비트  단위**로 네트워크를 **상세히 분할**하는 방법을 사용한다 

<br>

